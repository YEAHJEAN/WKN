{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./Post.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Post(){const navigate=useNavigate();const[title,setTitle]=useState('');const[content,setContent]=useState('');const[category,setCategory]=useState('');const[image,setImage]=useState(null);const email=sessionStorage.getItem('email');console.log('이메일:',email);const handleClick=()=>{navigate('/home');};const handleTitleChange=event=>{setTitle(event.target.value);};const handleContentChange=event=>{setContent(event.target.value);};const handleCategoryChange=event=>{setCategory(event.target.value);};const handleImageChange=event=>{setImage(event.target.files[0]);};const handleSubmit=async event=>{event.preventDefault();if(!title&&!content&&!category){alert('제목, 내용 및 카테고리를 입력해주세요.');return;}if(!title){alert('제목을 입력해주세요.');return;}if(!content){alert('내용을 입력해주세요.');return;}if(!category){alert('카테고리를 선택해주세요.');return;}try{const newPost={title,content,category,author:email};console.log('전송하는 데이터:',newPost);const response=await axios.post('/api/posts',newPost);if(response.status===200||response.status===201){console.log('게시되었습니다.');setTitle('');setContent('');setCategory('');setImage(null);alert('게시되었습니다.');navigate('/home');}else{console.error('게시 중 오류가 발생했습니다.',response);alert('게시 중 오류가 발생했습니다.');}}catch(error){console.error('게시 중 오류 발생:',error);alert('게시 중 오류가 발생했습니다.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-box\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,style:{cursor:'pointer',border:'none',background:'none',width:'300px',display:'block',margin:'0 auto',outline:'none'},children:/*#__PURE__*/_jsx(\"img\",{src:\"Home.jpg\",alt:\"Go to Home\",style:{width:'250px',height:'120px'}})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Board\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:handleTitleChange,className:\"input-field\"}),/*#__PURE__*/_jsx(\"textarea\",{value:content,placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:handleContentChange,className:\"input-field\"}),/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:handleCategoryChange,className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC774\\uBBFC\",children:\"\\uC774\\uBBFC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC720\\uD559\",children:\"\\uC720\\uD559\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC5EC\\uD589\",children:\"\\uC5EC\\uD589\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC0DD\\uD65C\",children:\"\\uC0DD\\uD65C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC0AC\\uC9C4\",children:\"\\uC0AC\\uC9C4\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange,className:\"input-field\"}),\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"\\uAC8C\\uC2DC\"})]})]});}export default Post;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Post","navigate","title","setTitle","content","setContent","category","setCategory","image","setImage","email","sessionStorage","getItem","console","log","handleClick","handleTitleChange","event","target","value","handleContentChange","handleCategoryChange","handleImageChange","files","handleSubmit","preventDefault","alert","newPost","author","response","post","status","error","className","children","onClick","style","cursor","border","background","width","display","margin","outline","src","alt","height","onSubmit","type","placeholder","onChange"],"sources":["C:/Users/user/mk/backend/src/frontend/src/Post.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Post.css';\r\n\r\nfunction Post() {\r\n  const navigate = useNavigate();\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const email = sessionStorage.getItem('email');\r\n  console.log('이메일:', email);\r\n\r\n  const handleClick = () => {\r\n    navigate('/home');\r\n  };\r\n\r\n  const handleTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  const handleContentChange = (event) => {\r\n    setContent(event.target.value);\r\n  };\r\n\r\n  const handleCategoryChange = (event) => {\r\n    setCategory(event.target.value);\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    setImage(event.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!title && !content && !category) {\r\n      alert('제목, 내용 및 카테고리를 입력해주세요.');\r\n      return;\r\n    }\r\n\r\n    if (!title) {\r\n      alert('제목을 입력해주세요.');\r\n      return;\r\n    }\r\n\r\n    if (!content) {\r\n      alert('내용을 입력해주세요.');\r\n      return;\r\n    }\r\n\r\n    if (!category) {\r\n      alert('카테고리를 선택해주세요.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newPost = {\r\n        title,\r\n        content,\r\n        category,\r\n        author: email\r\n      };\r\n      console.log('전송하는 데이터:', newPost);\r\n\r\n      const response = await axios.post('/api/posts', newPost);\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        console.log('게시되었습니다.');\r\n        setTitle('');\r\n        setContent('');\r\n        setCategory(''); \r\n        setImage(null);\r\n        alert('게시되었습니다.');\r\n        navigate('/home');\r\n      } else {\r\n        console.error('게시 중 오류가 발생했습니다.', response);\r\n        alert('게시 중 오류가 발생했습니다.');\r\n      }\r\n    } catch (error) {\r\n      console.error('게시 중 오류 발생:', error);\r\n      alert('게시 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-box\">\r\n      <button onClick={handleClick} style={{ cursor: 'pointer', border: 'none', background: 'none', width: '300px', display: 'block', margin: '0 auto', outline: 'none' }}>\r\n        <img src=\"Home.jpg\" alt=\"Go to Home\" style={{ width: '250px', height: '120px' }} />\r\n      </button>\r\n      <h1>Board</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" value={title} placeholder=\"제목을 입력해주세요\" onChange={handleTitleChange} className=\"input-field\" />\r\n        <textarea value={content} placeholder=\"내용을 입력해주세요\" onChange={handleContentChange} className=\"input-field\" />\r\n        <select value={category} onChange={handleCategoryChange} className=\"input-field\">\r\n          <option value=\"\">카테고리를 선택해주세요</option>\r\n          <option value=\"이민\">이민</option>\r\n          <option value=\"유학\">유학</option>\r\n          <option value=\"여행\">여행</option>\r\n          <option value=\"생활\">생활</option>\r\n          <option value=\"사진\">사진</option>\r\n        </select>\r\n        <input type=\"file\" onChange={handleImageChange} className=\"input-field\" /> {/* 이미지 업로드 필드 추가 */}\r\n        <button type=\"submit\" className=\"submit-button\">게시</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}