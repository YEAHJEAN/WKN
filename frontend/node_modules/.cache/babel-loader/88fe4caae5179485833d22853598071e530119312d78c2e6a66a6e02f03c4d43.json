{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/user/mk/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect}from'react';import axios from'axios';import styled from'styled-components';import NewsItem from'./NewsItem';import{jsx as _jsx}from\"react/jsx-runtime\";const NewsListBlock=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    box-sizing: border-box;\\n    padding-bottom: 3rem;\\n    width: 768px;\\n    margin: 0 auto;\\n    margin-top: 2rem;\\n    @media screen and (max-width: 768px) {\\n        width: 100%;\\n        padding-left: 1rem;\\n        padding-right: 1rem;\\n    }\\n\"])));const NewsList=_ref=>{let{category}=_ref;const[articles,setArticles]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{// async를 사용하는 함수 따로 선언\nconst fetchData=async()=>{setLoading(true);try{const query=category==='all'?'':\"&category=\".concat(category);const url=\"https://newsapi.org/v2/top-headlines?country=jp\".concat(query,\"&apiKey=db05eddf2a4b43c2b3378b2dbaa7eeef\");console.log(\"Request URL:\",url);const response=await axios.get(url,{headers:{'Accept':'application/json'}});console.log(\"Response data:\",response.data);setArticles(response.data.articles);}catch(e){console.error(\"API 요청 중 오류 발생:\",e);}setLoading(false);};fetchData();},[category]);// 대기 중일 때\nif(loading){return/*#__PURE__*/_jsx(NewsListBlock,{children:\"\\uB300\\uAE30 \\uC911...\"});}// 아직 articles 값이 설정되지 않았을 때\nif(!articles){return null;}// articles 값이 유효할 때\nreturn/*#__PURE__*/_jsx(NewsListBlock,{children:articles.map(article=>/*#__PURE__*/_jsx(NewsItem,{article:article},article.url))});};export default NewsList;","map":{"version":3,"names":["React","useState","useEffect","axios","styled","NewsItem","jsx","_jsx","NewsListBlock","div","_templateObject","_taggedTemplateLiteral","NewsList","_ref","category","articles","setArticles","loading","setLoading","fetchData","query","concat","url","console","log","response","get","headers","data","e","error","children","map","article"],"sources":["C:/Users/user/mk/frontend/src/components/NewsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport NewsItem from './NewsItem';\r\n\r\nconst NewsListBlock = styled.div`\r\n    box-sizing: border-box;\r\n    padding-bottom: 3rem;\r\n    width: 768px;\r\n    margin: 0 auto;\r\n    margin-top: 2rem;\r\n    @media screen and (max-width: 768px) {\r\n        width: 100%;\r\n        padding-left: 1rem;\r\n        padding-right: 1rem;\r\n    }\r\n`;\r\n\r\nconst NewsList = ({ category }) => {\r\n    const [articles, setArticles] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // async를 사용하는 함수 따로 선언\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const query = category === 'all' ? '' : `&category=${category}`;\r\n                const url = `https://newsapi.org/v2/top-headlines?country=jp${query}&apiKey=db05eddf2a4b43c2b3378b2dbaa7eeef`;\r\n                console.log(\"Request URL:\", url);\r\n                const response = await axios.get(url, {\r\n                    headers: {\r\n                        'Accept': 'application/json'\r\n                    }\r\n                });\r\n                console.log(\"Response data:\", response.data);\r\n                setArticles(response.data.articles);\r\n            } catch(e) {\r\n                console.error(\"API 요청 중 오류 발생:\", e);\r\n            }\r\n            setLoading(false);\r\n        };\r\n        fetchData();\r\n    }, [category]);\r\n\r\n    // 대기 중일 때\r\n    if(loading) {\r\n        return <NewsListBlock>대기 중...</NewsListBlock>;\r\n    }\r\n    // 아직 articles 값이 설정되지 않았을 때\r\n    if(!articles) {\r\n        return null;\r\n    }\r\n\r\n    // articles 값이 유효할 때\r\n    return (\r\n        <NewsListBlock>\r\n            {articles.map(article => (\r\n                <NewsItem key={article.url} article={article} />\r\n            ))}\r\n        </NewsListBlock>    \r\n    );\r\n};\r\n\r\nexport default NewsList;"],"mappings":"mJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,aAAa,CAAGJ,MAAM,CAACK,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,qQAW/B,CAED,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAiB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1BD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAE,KAAK,CAAGN,QAAQ,GAAK,KAAK,CAAG,EAAE,cAAAO,MAAA,CAAgBP,QAAQ,CAAE,CAC/D,KAAM,CAAAQ,GAAG,mDAAAD,MAAA,CAAqDD,KAAK,4CAA0C,CAC7GG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEF,GAAG,CAAC,CAChC,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,GAAG,CAACJ,GAAG,CAAE,CAClCK,OAAO,CAAE,CACL,QAAQ,CAAE,kBACd,CACJ,CAAC,CAAC,CACFJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEC,QAAQ,CAACG,IAAI,CAAC,CAC5CZ,WAAW,CAACS,QAAQ,CAACG,IAAI,CAACb,QAAQ,CAAC,CACvC,CAAE,MAAMc,CAAC,CAAE,CACPN,OAAO,CAACO,KAAK,CAAC,iBAAiB,CAAED,CAAC,CAAC,CACvC,CACAX,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CACDC,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd;AACA,GAAGG,OAAO,CAAE,CACR,mBAAOV,IAAA,CAACC,aAAa,EAAAuB,QAAA,CAAC,wBAAO,CAAe,CAAC,CACjD,CACA;AACA,GAAG,CAAChB,QAAQ,CAAE,CACV,MAAO,KAAI,CACf,CAEA;AACA,mBACIR,IAAA,CAACC,aAAa,EAAAuB,QAAA,CACThB,QAAQ,CAACiB,GAAG,CAACC,OAAO,eACjB1B,IAAA,CAACF,QAAQ,EAAmB4B,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACX,GAAwB,CAClD,CAAC,CACS,CAAC,CAExB,CAAC,CAED,cAAe,CAAAV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}