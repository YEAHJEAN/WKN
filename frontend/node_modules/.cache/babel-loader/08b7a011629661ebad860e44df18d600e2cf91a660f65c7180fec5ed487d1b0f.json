{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./PasswordConfirmation.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PasswordConfirmation(_ref){let{onWithdraw}=_ref;const navigate=useNavigate();const[password,setPassword]=useState('');const handleWithdraw=()=>{const email=sessionStorage.getItem('email');// 세션에서 이메일 가져오기\n// 비밀번호 확인 후 회원 탈퇴 처리\naxios.post('https://kmk510.store/api/confirmPasswordAndWithdraw',{email,password}).then(response=>{if(response.status===200){onWithdraw();// 부모 컴포넌트로 회원 탈퇴가 성공적으로 처리되었음을 알림\nsessionStorage.removeItem('email');// 세션에서 이메일 제거\nnavigate('/login');}else{console.error('회원 탈퇴 실패');}}).catch(error=>{console.error('회원 탈퇴 실패:',error);});};const handleClick=()=>{navigate('/home');};const handleKeyDown=e=>{if(e.key==='Enter'){handleWithdraw();}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,style:{cursor:'pointer',border:'none',background:'none',width:'300px',display:'block',margin:'0 auto',outline:'none'},children:/*#__PURE__*/_jsx(\"img\",{src:\"Home.jpg\",alt:\"Go to Home\",style:{width:'250px',height:'120px'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-confirmation-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:e=>setPassword(e.target.value),onKeyDown:handleKeyDown// 엔터 키 감지\n})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleWithdraw,children:\"\\uD655\\uC778 \\uBC0F \\uD0C8\\uD1F4\"})]})]});}export default PasswordConfirmation;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","PasswordConfirmation","_ref","onWithdraw","navigate","password","setPassword","handleWithdraw","email","sessionStorage","getItem","post","then","response","status","removeItem","console","error","catch","handleClick","handleKeyDown","e","key","children","onClick","style","cursor","border","background","width","display","margin","outline","src","alt","height","className","type","id","value","placeholder","onChange","target","onKeyDown"],"sources":["C:/Users/user/mk/frontend/src/PasswordConfirmation.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './PasswordConfirmation.css';\r\n\r\nfunction PasswordConfirmation({ onWithdraw }) {\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleWithdraw = () => {\r\n    const email = sessionStorage.getItem('email'); // 세션에서 이메일 가져오기\r\n\r\n    // 비밀번호 확인 후 회원 탈퇴 처리\r\n    axios.post('https://kmk510.store/api/confirmPasswordAndWithdraw', { email, password })\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          onWithdraw(); // 부모 컴포넌트로 회원 탈퇴가 성공적으로 처리되었음을 알림\r\n          sessionStorage.removeItem('email'); // 세션에서 이메일 제거\r\n          navigate('/login');\r\n        } else {\r\n          console.error('회원 탈퇴 실패');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('회원 탈퇴 실패:', error);\r\n      });\r\n  };\r\n\r\n  const handleClick = () => {\r\n    navigate('/home');\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleWithdraw();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleClick} style={{ cursor: 'pointer', border: 'none', background: 'none', width: '300px', display: 'block', margin: '0 auto', outline: 'none' }}>\r\n        <img src=\"Home.jpg\" alt=\"Go to Home\" style={{ width: '250px', height: '120px' }} />\r\n      </button>\r\n      <div className=\"password-confirmation-page\">\r\n        <h2>비밀번호 확인</h2>\r\n        <div>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            placeholder=\"비밀번호를 입력해주세요\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            onKeyDown={handleKeyDown} // 엔터 키 감지\r\n          />\r\n        </div>\r\n        <button onClick={handleWithdraw}>확인 및 탈퇴</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordConfirmation;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,oBAAoBA,CAAAC,IAAA,CAAiB,IAAhB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAAAE,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAa,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AAE/C;AACAd,KAAK,CAACe,IAAI,CAAC,qDAAqD,CAAE,CAAEH,KAAK,CAAEH,QAAS,CAAC,CAAC,CACnFO,IAAI,CAACC,QAAQ,EAAI,CAChB,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC3BX,UAAU,CAAC,CAAC,CAAE;AACdM,cAAc,CAACM,UAAU,CAAC,OAAO,CAAC,CAAE;AACpCX,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,CACLY,OAAO,CAACC,KAAK,CAAC,UAAU,CAAC,CAC3B,CACF,CAAC,CAAC,CACDC,KAAK,CAACD,KAAK,EAAI,CACdD,OAAO,CAACC,KAAK,CAAC,WAAW,CAAEA,KAAK,CAAC,CACnC,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,CACxBf,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,KAAM,CAAAgB,aAAa,CAAIC,CAAC,EAAK,CAC3B,GAAIA,CAAC,CAACC,GAAG,GAAK,OAAO,CAAE,CACrBf,cAAc,CAAC,CAAC,CAClB,CACF,CAAC,CAED,mBACEP,KAAA,QAAAuB,QAAA,eACEzB,IAAA,WAAQ0B,OAAO,CAAEL,WAAY,CAACM,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAEC,KAAK,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,QAAQ,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAT,QAAA,cAClKzB,IAAA,QAAKmC,GAAG,CAAC,UAAU,CAACC,GAAG,CAAC,YAAY,CAACT,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAO,CAAEM,MAAM,CAAE,OAAQ,CAAE,CAAE,CAAC,CAC7E,CAAC,cACTnC,KAAA,QAAKoC,SAAS,CAAC,4BAA4B,CAAAb,QAAA,eACzCzB,IAAA,OAAAyB,QAAA,CAAI,uCAAO,CAAI,CAAC,cAChBzB,IAAA,QAAAyB,QAAA,cACEzB,IAAA,UACEuC,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAElC,QAAS,CAChBmC,WAAW,CAAC,qEAAc,CAC1BC,QAAQ,CAAGpB,CAAC,EAAKf,WAAW,CAACe,CAAC,CAACqB,MAAM,CAACH,KAAK,CAAE,CAC7CI,SAAS,CAAEvB,aAAe;AAAA,CAC3B,CAAC,CACC,CAAC,cACNtB,IAAA,WAAQ0B,OAAO,CAAEjB,cAAe,CAAAgB,QAAA,CAAC,kCAAO,CAAQ,CAAC,EAC9C,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAtB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}