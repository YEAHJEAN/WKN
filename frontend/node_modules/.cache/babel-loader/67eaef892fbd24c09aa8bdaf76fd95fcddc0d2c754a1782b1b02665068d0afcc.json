{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\mk\\\\frontend\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const errors = {};\n\n    // 이메일 필드 유효성 검사\n    if (!formData.email.trim()) {\n      errors.email = '이메일을 입력해주세요';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      errors.email = '유효한 이메일을 입력해주세요';\n    }\n\n    // 비밀번호 필드 유효성 검사\n    if (!formData.password.trim()) {\n      errors.password = '비밀번호를 입력해주세요';\n    } else if (!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{1,10}$/.test(formData.password)) {\n      errors.password = '10자 이내의 영문, 숫자를 포함한 비밀번호를 입력해주세요';\n    }\n\n    // 유효성 검사 통과 여부 확인\n    if (Object.keys(errors).length === 0) {\n      try {\n        const response = await axios.post('http://localhost:3001/login', formData);\n        console.log(response.data);\n\n        // 세션에 이메일 저장\n        sessionStorage.setItem('email', response.data.email);\n        // 세션에 저장된 이메일 콘솔에 기록\n        console.log(\"Logged in email:\", response.data.email);\n        alert('로그인 성공!');\n        navigate('/home');\n      } catch (error) {\n        console.error('Error:', error.response.data);\n        setError('');\n        alert('이메일 또는 비밀번호가 일치하지 않습니다.');\n      }\n    } else {\n      // 유효성 검사 에러가 있는 경우 에러 상태 업데이트\n      setErrors(errors);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-box\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"\\uC774\\uBA54\\uC77C\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginBottom: '17px'\n        },\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        align: \"center\",\n        children: [\"\\uC544\\uC9C1 \\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Signup\",\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 7\n  }, this);\n}\n_s(Login, \"k4LnuDyWFOERuLaMzgsaOZLBA9U=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsxDEV","_jsxDEV","Login","_s","formData","setFormData","email","password","errors","setErrors","error","setError","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","trim","test","Object","keys","length","response","post","console","log","data","sessionStorage","setItem","alert","className","children","onSubmit","align","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","style","marginBottom","to","_c","$RefreshReg$"],"sources":["C:/Users/user/mk/frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Login.css';\r\n\r\nfunction Login() {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = {};\r\n  \r\n    // 이메일 필드 유효성 검사\r\n    if (!formData.email.trim()) {\r\n      errors.email = '이메일을 입력해주세요';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      errors.email = '유효한 이메일을 입력해주세요';\r\n    }\r\n  \r\n    // 비밀번호 필드 유효성 검사\r\n    if (!formData.password.trim()) {\r\n      errors.password = '비밀번호를 입력해주세요';\r\n    } else if (!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{1,10}$/.test(formData.password)) {\r\n      errors.password = '10자 이내의 영문, 숫자를 포함한 비밀번호를 입력해주세요';\r\n    }\r\n  \r\n    // 유효성 검사 통과 여부 확인\r\n    if (Object.keys(errors).length === 0) {\r\n      try {\r\n        const response = await axios.post('http://localhost:3001/login', formData);\r\n        console.log(response.data);\r\n        \r\n        // 세션에 이메일 저장\r\n        sessionStorage.setItem('email', response.data.email);\r\n        // 세션에 저장된 이메일 콘솔에 기록\r\n        console.log(\"Logged in email:\", response.data.email);\r\n        \r\n        alert('로그인 성공!');\r\n        navigate('/home');\r\n      } catch (error) {\r\n        console.error('Error:', error.response.data);\r\n        setError('');\r\n        alert('이메일 또는 비밀번호가 일치하지 않습니다.');\r\n      }\r\n    } else {\r\n      // 유효성 검사 에러가 있는 경우 에러 상태 업데이트\r\n      setErrors(errors);\r\n    }\r\n  };  \r\n  \r\n  return (\r\n      <div className=\"login-box\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h1 align=\"center\">로그인</h1>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" name=\"email\" placeholder=\"이메일\" value={formData.email} onChange={handleChange} />\r\n            {errors.email && <span>{errors.email}</span>}\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input type=\"password\" name=\"password\" placeholder=\"비밀번호\" value={formData.password} onChange={handleChange} />\r\n            {errors.password && <span>{errors.password}</span>}\r\n          </div>\r\n          <button type=\"submit\" style={{ marginBottom: '17px' }}>로그인</button>\r\n          <div align=\"center\">아직 계정이 없으신가요? <Link to=\"/Signup\">회원가입</Link></div>\r\n        </form>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}