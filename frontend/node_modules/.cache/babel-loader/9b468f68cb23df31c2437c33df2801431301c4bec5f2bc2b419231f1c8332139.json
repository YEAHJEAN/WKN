{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import'./Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[formData,setFormData]=useState({email:'',password:''});const[errors,setErrors]=useState({});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();const errors={};// 이메일 필드 유효성 검사\nif(!formData.email.trim()){errors.email='이메일을 입력해주세요';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){errors.email='유효한 이메일을 입력해주세요';}// 비밀번호 필드 유효성 검사\nif(!formData.password.trim()){errors.password='비밀번호를 입력해주세요';}else if(!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{1,10}$/.test(formData.password)){errors.password='10자 이내의 영문, 숫자를 포함한 비밀번호를 입력해주세요';}// 유효성 검사 통과 여부 확인\nif(Object.keys(errors).length===0){try{const response=await axios.post('https://kmk510.store/api/login',formData);console.log(response.data);// 세션에 이메일 저장\nsessionStorage.setItem('email',response.data.email);// 세션에 저장된 이메일 콘솔에 기록\nconsole.log(\"Logged in email:\",response.data.email);alert('로그인 성공!');navigate('/home');}catch(error){console.error('Error:',error.response.data);setError('');alert('이메일 또는 비밀번호가 일치하지 않습니다.');}}else{// 유효성 검사 에러가 있는 경우 에러 상태 업데이트\nsetErrors(errors);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-box\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{align:\"center\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\",value:formData.email,onChange:handleChange}),errors.email&&/*#__PURE__*/_jsx(\"span\",{children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:formData.password,onChange:handleChange}),errors.password&&/*#__PURE__*/_jsx(\"span\",{children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{marginBottom:'17px'},children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{align:\"center\",children:[\"\\uC544\\uC9C1 \\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694? \",/*#__PURE__*/_jsx(Link,{to:\"/Signup\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","errors","setErrors","error","setError","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","trim","test","Object","keys","length","response","post","console","log","data","sessionStorage","setItem","alert","className","children","onSubmit","align","type","placeholder","onChange","style","marginBottom","to"],"sources":["C:/Users/user/mk/frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Login.css';\r\n\r\nfunction Login() {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = {};\r\n  \r\n    // 이메일 필드 유효성 검사\r\n    if (!formData.email.trim()) {\r\n      errors.email = '이메일을 입력해주세요';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      errors.email = '유효한 이메일을 입력해주세요';\r\n    }\r\n  \r\n    // 비밀번호 필드 유효성 검사\r\n    if (!formData.password.trim()) {\r\n      errors.password = '비밀번호를 입력해주세요';\r\n    } else if (!/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{1,10}$/.test(formData.password)) {\r\n      errors.password = '10자 이내의 영문, 숫자를 포함한 비밀번호를 입력해주세요';\r\n    }\r\n  \r\n    // 유효성 검사 통과 여부 확인\r\n    if (Object.keys(errors).length === 0) {\r\n      try {\r\n        const response = await axios.post('https://kmk510.store/api/login', formData);\r\n        console.log(response.data);\r\n        \r\n        // 세션에 이메일 저장\r\n        sessionStorage.setItem('email', response.data.email);\r\n        // 세션에 저장된 이메일 콘솔에 기록\r\n        console.log(\"Logged in email:\", response.data.email);\r\n        \r\n        alert('로그인 성공!');\r\n        navigate('/home');\r\n      } catch (error) {\r\n        console.error('Error:', error.response.data);\r\n        setError('');\r\n        alert('이메일 또는 비밀번호가 일치하지 않습니다.');\r\n      }\r\n    } else {\r\n      // 유효성 검사 에러가 있는 경우 에러 상태 업데이트\r\n      setErrors(errors);\r\n    }\r\n  };  \r\n  \r\n  return (\r\n      <div className=\"login-box\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h1 align=\"center\">로그인</h1>\r\n          <div className=\"input-group\">\r\n            <input type=\"text\" name=\"email\" placeholder=\"이메일\" value={formData.email} onChange={handleChange} />\r\n            {errors.email && <span>{errors.email}</span>}\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <input type=\"password\" name=\"password\" placeholder=\"비밀번호\" value={formData.password} onChange={handleChange} />\r\n            {errors.password && <span>{errors.password}</span>}\r\n          </div>\r\n          <button type=\"submit\" style={{ marginBottom: '17px' }}>로그인</button>\r\n          <div align=\"center\">아직 계정이 없으신가요? <Link to=\"/Signup\">회원가입</Link></div>\r\n        </form>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,CACvCW,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCZ,WAAW,CAAC,CACV,GAAGD,QAAQ,CACX,CAACW,IAAI,EAAGC,KACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAChCA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAX,MAAM,CAAG,CAAC,CAAC,CAEjB;AACA,GAAI,CAACJ,QAAQ,CAACE,KAAK,CAACc,IAAI,CAAC,CAAC,CAAE,CAC1BZ,MAAM,CAACF,KAAK,CAAG,aAAa,CAC9B,CAAC,IAAM,IAAI,CAAC,cAAc,CAACe,IAAI,CAACjB,QAAQ,CAACE,KAAK,CAAC,CAAE,CAC/CE,MAAM,CAACF,KAAK,CAAG,iBAAiB,CAClC,CAEA;AACA,GAAI,CAACF,QAAQ,CAACG,QAAQ,CAACa,IAAI,CAAC,CAAC,CAAE,CAC7BZ,MAAM,CAACD,QAAQ,CAAG,cAAc,CAClC,CAAC,IAAM,IAAI,CAAC,0CAA0C,CAACc,IAAI,CAACjB,QAAQ,CAACG,QAAQ,CAAC,CAAE,CAC9EC,MAAM,CAACD,QAAQ,CAAG,kCAAkC,CACtD,CAEA;AACA,GAAIe,MAAM,CAACC,IAAI,CAACf,MAAM,CAAC,CAACgB,MAAM,GAAK,CAAC,CAAE,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,CAAC,gCAAgC,CAAEtB,QAAQ,CAAC,CAC7EuB,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAE1B;AACAC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAEN,QAAQ,CAACI,IAAI,CAACvB,KAAK,CAAC,CACpD;AACAqB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEH,QAAQ,CAACI,IAAI,CAACvB,KAAK,CAAC,CAEpD0B,KAAK,CAAC,SAAS,CAAC,CAChBpB,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAE,MAAOF,KAAK,CAAE,CACdiB,OAAO,CAACjB,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAACe,QAAQ,CAACI,IAAI,CAAC,CAC5ClB,QAAQ,CAAC,EAAE,CAAC,CACZqB,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,IAAM,CACL;AACAvB,SAAS,CAACD,MAAM,CAAC,CACnB,CACF,CAAC,CAED,mBACIR,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBhC,KAAA,SAAMiC,QAAQ,CAAEjB,YAAa,CAAAgB,QAAA,eAC3BlC,IAAA,OAAIoC,KAAK,CAAC,QAAQ,CAAAF,QAAA,CAAC,oBAAG,CAAI,CAAC,cAC3BhC,KAAA,QAAK+B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlC,IAAA,UAAOqC,IAAI,CAAC,MAAM,CAACtB,IAAI,CAAC,OAAO,CAACuB,WAAW,CAAC,oBAAK,CAACtB,KAAK,CAAEZ,QAAQ,CAACE,KAAM,CAACiC,QAAQ,CAAE1B,YAAa,CAAE,CAAC,CAClGL,MAAM,CAACF,KAAK,eAAIN,IAAA,SAAAkC,QAAA,CAAO1B,MAAM,CAACF,KAAK,CAAO,CAAC,EACzC,CAAC,cACNJ,KAAA,QAAK+B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlC,IAAA,UAAOqC,IAAI,CAAC,UAAU,CAACtB,IAAI,CAAC,UAAU,CAACuB,WAAW,CAAC,0BAAM,CAACtB,KAAK,CAAEZ,QAAQ,CAACG,QAAS,CAACgC,QAAQ,CAAE1B,YAAa,CAAE,CAAC,CAC7GL,MAAM,CAACD,QAAQ,eAAIP,IAAA,SAAAkC,QAAA,CAAO1B,MAAM,CAACD,QAAQ,CAAO,CAAC,EAC/C,CAAC,cACNP,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAACG,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAP,QAAA,CAAC,oBAAG,CAAQ,CAAC,cACnEhC,KAAA,QAAKkC,KAAK,CAAC,QAAQ,CAAAF,QAAA,EAAC,kEAAc,cAAAlC,IAAA,CAACH,IAAI,EAAC6C,EAAE,CAAC,SAAS,CAAAR,QAAA,CAAC,0BAAI,CAAM,CAAC,EAAK,CAAC,EAClE,CAAC,CACJ,CAAC,CAEZ,CAEA,cAAe,CAAA/B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}